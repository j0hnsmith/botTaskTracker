(()=>{var hr=Object.create;var po=Object.defineProperty;var pr=Object.getOwnPropertyDescriptor;var mr=Object.getOwnPropertyNames;var gr=Object.getPrototypeOf,vr=Object.prototype.hasOwnProperty;var br=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var yr=(e,r,a,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let c of mr(r))!vr.call(e,c)&&c!==a&&po(e,c,{get:()=>r[c],enumerable:!(i=pr(r,c))||i.enumerable});return e};var wr=(e,r,a)=>(a=e!=null?hr(gr(e)):{},yr(r||!e||!e.__esModule?po(a,"default",{value:e,enumerable:!0}):a,e));var or=br((eo,to)=>{(function(e,r){typeof eo=="object"&&typeof to<"u"?to.exports=r():typeof define=="function"&&define.amd?define(r):(e=e||self).Sortable=r()})(eo,function(){"use strict";function e(t,n){var o,s=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),n&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,o)),s}function r(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(s){var l,u;l=t,s=o[u=s],u in l?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function a(t){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function i(){return(i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o,s=arguments[n];for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t}).apply(this,arguments)}function c(t,n){if(t==null)return{};var o,s=(function(m,h){if(m==null)return{};for(var v,x={},C=Object.keys(m),O=0;O<C.length;O++)v=C[O],0<=h.indexOf(v)||(x[v]=m[v]);return x})(t,n);if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(t),u=0;u<l.length;u++)o=l[u],0<=n.indexOf(o)||Object.prototype.propertyIsEnumerable.call(t,o)&&(s[o]=t[o]);return s}function p(t){return(function(n){if(Array.isArray(n))return d(n)})(t)||(function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)})(t)||(function(n,o){if(n){if(typeof n=="string")return d(n,o);var s=Object.prototype.toString.call(n).slice(8,-1);return(s=s==="Object"&&n.constructor?n.constructor.name:s)==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d(n,o):void 0}})(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function d(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function f(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var g=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),b=f(/Edge/i),y=f(/firefox/i),T=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),k=f(/iP(ad|od|hone)/i),At=f(/chrome/i)&&f(/android/i),E={capture:!1,passive:!1};function w(t,n,o){t.addEventListener(n,o,!g&&E)}function D(t,n,o){t.removeEventListener(n,o,!g&&E)}function X(t,n){if(n&&(n[0]===">"&&(n=n.substring(1)),t))try{if(t.matches)return t.matches(n);if(t.msMatchesSelector)return t.msMatchesSelector(n);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(n)}catch{return}}function R(t,n,o,s){if(t){o=o||document;do if(n!=null&&(n[0]!==">"||t.parentNode===o)&&X(t,n)||s&&t===o)return t;while(t!==o&&(t=(l=t).host&&l!==document&&l.host.nodeType?l.host:l.parentNode))}var l;return null}var J,Se=/\s+/g;function j(t,n,o){var s;t&&n&&(t.classList?t.classList[o?"add":"remove"](n):(s=(" "+t.className+" ").replace(Se," ").replace(" "+n+" "," "),t.className=(s+(o?" "+n:"")).replace(Se," ")))}function A(t,n,o){var s=t&&t.style;if(s){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),n===void 0?o:o[n];s[n=n in s||n.indexOf("webkit")!==-1?n:"-webkit-"+n]=o+(typeof o=="string"?"":"px")}}function ae(t,n){var o="";if(typeof t=="string")o=t;else do var s=A(t,"transform");while(s&&s!=="none"&&(o=s+" "+o),!n&&(t=t.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(o)}function ve(t,n,o){if(t){var s=t.getElementsByTagName(n),l=0,u=s.length;if(o)for(;l<u;l++)o(s[l],l);return s}return[]}function fe(){var t=document.scrollingElement;return t||document.documentElement}function $(t,n,o,s,l){if(t.getBoundingClientRect||t===window){var u,m,h,v,x,C,O=t!==window&&t.parentNode&&t!==fe()?(m=(u=t.getBoundingClientRect()).top,h=u.left,v=u.bottom,x=u.right,C=u.height,u.width):(h=m=0,v=window.innerHeight,x=window.innerWidth,C=window.innerHeight,window.innerWidth);if((n||o)&&t!==window&&(l=l||t.parentNode,!g))do if(l&&l.getBoundingClientRect&&(A(l,"transform")!=="none"||o&&A(l,"position")!=="static")){var K=l.getBoundingClientRect();m-=K.top+parseInt(A(l,"border-top-width")),h-=K.left+parseInt(A(l,"border-left-width")),v=m+u.height,x=h+u.width;break}while(l=l.parentNode);return s&&t!==window&&(s=(n=ae(l||t))&&n.a,t=n&&n.d,n&&(v=(m/=t)+(C/=t),x=(h/=s)+(O/=s))),{top:m,left:h,bottom:v,right:x,width:O,height:C}}}function Pe(t,n,o){for(var s=te(t,!0),l=$(t)[n];s;){var u=$(s)[o];if(!(o==="top"||o==="left"?u<=l:l<=u))return s;if(s===fe())break;s=te(s,!1)}return!1}function be(t,n,o,s){for(var l=0,u=0,m=t.children;u<m.length;){if(m[u].style.display!=="none"&&m[u]!==M.ghost&&(s||m[u]!==M.dragged)&&R(m[u],o.draggable,t,!1)){if(l===n)return m[u];l++}u++}return null}function P(t,n){for(var o=t.lastElementChild;o&&(o===M.ghost||A(o,"display")==="none"||n&&!X(o,n));)o=o.previousElementSibling;return o||null}function F(t,n){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()==="TEMPLATE"||t===M.clone||n&&!X(t,n)||o++;return o}function ee(t){var n=0,o=0,s=fe();if(t)do var u=ae(t),l=u.a,u=u.d;while(n+=t.scrollLeft*l,o+=t.scrollTop*u,t!==s&&(t=t.parentNode));return[n,o]}function te(t,n){if(!t||!t.getBoundingClientRect)return fe();var o=t,s=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var l=A(o);if(o.clientWidth<o.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return fe();if(s||n)return o;s=!0}}while(o=o.parentNode);return fe()}function re(t,n){return Math.round(t.top)===Math.round(n.top)&&Math.round(t.left)===Math.round(n.left)&&Math.round(t.height)===Math.round(n.height)&&Math.round(t.width)===Math.round(n.width)}function le(t,n){return function(){var o;J||((o=arguments).length===1?t.call(this,o[0]):t.apply(this,o),J=setTimeout(function(){J=void 0},n))}}function Te(t,n,o){t.scrollLeft+=n,t.scrollTop+=o}function Je(t){var n=window.Polymer,o=window.jQuery||window.Zepto;return n&&n.dom?n.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}function st(t,n){A(t,"position","absolute"),A(t,"top",n.top),A(t,"left",n.left),A(t,"width",n.width),A(t,"height",n.height)}function me(t){A(t,"position",""),A(t,"top",""),A(t,"left",""),A(t,"width",""),A(t,"height","")}function He(t,n,o){var s={};return Array.from(t.children).forEach(function(l){var u;R(l,n.draggable,t,!1)&&!l.animated&&l!==o&&(u=$(l),s.left=Math.min((l=s.left)!==null&&l!==void 0?l:1/0,u.left),s.top=Math.min((l=s.top)!==null&&l!==void 0?l:1/0,u.top),s.right=Math.max((l=s.right)!==null&&l!==void 0?l:-1/0,u.right),s.bottom=Math.max((l=s.bottom)!==null&&l!==void 0?l:-1/0,u.bottom))}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var ne="Sortable"+new Date().getTime();function ct(){var t,n=[];return{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(o){var s,l;A(o,"display")!=="none"&&o!==M.ghost&&(n.push({target:o,rect:$(o)}),s=r({},n[n.length-1].rect),!o.thisAnimationDuration||(l=ae(o,!0))&&(s.top-=l.f,s.left-=l.e),o.fromRect=s)})},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice((function(s,l){for(var u in s)if(s.hasOwnProperty(u)){for(var m in l)if(l.hasOwnProperty(m)&&l[m]===s[u][m])return Number(u)}return-1})(n,{target:o}),1)},animateAll:function(o){var s=this;if(!this.options.animation)return clearTimeout(t),void(typeof o=="function"&&o());var l=!1,u=0;n.forEach(function(m){var h=0,v=m.target,x=v.fromRect,C=$(v),O=v.prevFromRect,K=v.prevToRect,L=m.rect,I=ae(v,!0);I&&(C.top-=I.f,C.left-=I.e),v.toRect=C,v.thisAnimationDuration&&re(O,C)&&!re(x,C)&&(L.top-C.top)/(L.left-C.left)==(x.top-C.top)/(x.left-C.left)&&(m=L,I=O,O=K,K=s.options,h=Math.sqrt(Math.pow(I.top-m.top,2)+Math.pow(I.left-m.left,2))/Math.sqrt(Math.pow(I.top-O.top,2)+Math.pow(I.left-O.left,2))*K.animation),re(C,x)||(v.prevFromRect=x,v.prevToRect=C,h=h||s.options.animation,s.animate(v,L,C,h)),h&&(l=!0,u=Math.max(u,h),clearTimeout(v.animationResetTimer),v.animationResetTimer=setTimeout(function(){v.animationTime=0,v.prevFromRect=null,v.fromRect=null,v.prevToRect=null,v.thisAnimationDuration=null},h),v.thisAnimationDuration=h)}),clearTimeout(t),l?t=setTimeout(function(){typeof o=="function"&&o()},u):typeof o=="function"&&o(),n=[]},animate:function(o,s,l,u){var m,h;u&&(A(o,"transition",""),A(o,"transform",""),m=(h=ae(this.el))&&h.a,h=h&&h.d,m=(s.left-l.left)/(m||1),h=(s.top-l.top)/(h||1),o.animatingX=!!m,o.animatingY=!!h,A(o,"transform","translate3d("+m+"px,"+h+"px,0)"),this.forRepaintDummy=o.offsetWidth,A(o,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),A(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){A(o,"transition",""),A(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},u))}}}var qe=[],ut={initializeByDefault:!0},Ie={mount:function(t){for(var n in ut)!ut.hasOwnProperty(n)||n in t||(t[n]=ut[n]);qe.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qe.push(t)},pluginEvent:function(t,n,o){var s=this;this.eventCanceled=!1,o.cancel=function(){s.eventCanceled=!0};var l=t+"Global";qe.forEach(function(u){n[u.pluginName]&&(n[u.pluginName][l]&&n[u.pluginName][l](r({sortable:n},o)),n.options[u.pluginName]&&n[u.pluginName][t]&&n[u.pluginName][t](r({sortable:n},o)))})},initializePlugins:function(t,n,o,s){for(var l in qe.forEach(function(m){var h=m.pluginName;(t.options[h]||m.initializeByDefault)&&((m=new m(t,n,t.options)).sortable=t,m.options=t.options,t[h]=m,i(o,m.defaults))}),t.options){var u;t.options.hasOwnProperty(l)&&(u=this.modifyOption(t,l,t.options[l]))!==void 0&&(t.options[l]=u)}},getEventProperties:function(t,n){var o={};return qe.forEach(function(s){typeof s.eventProperties=="function"&&i(o,s.eventProperties.call(n[s.pluginName],t))}),o},modifyOption:function(t,n,o){var s;return qe.forEach(function(l){t[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(s=l.optionListeners[n].call(t[l.pluginName],o))}),s}};function Le(t){var n=t.sortable,o=t.rootEl,s=t.name,l=t.targetEl,u=t.cloneEl,m=t.toEl,h=t.fromEl,v=t.oldIndex,x=t.newIndex,C=t.oldDraggableIndex,O=t.newDraggableIndex,K=t.originalEvent,L=t.putSortable,I=t.extraEventProperties;if(n=n||o&&o[ne]){var B,U=n.options,t="on"+s.charAt(0).toUpperCase()+s.substr(1);!window.CustomEvent||g||b?(B=document.createEvent("Event")).initEvent(s,!0,!0):B=new CustomEvent(s,{bubbles:!0,cancelable:!0}),B.to=m||o,B.from=h||o,B.item=l||o,B.clone=u,B.oldIndex=v,B.newIndex=x,B.oldDraggableIndex=C,B.newDraggableIndex=O,B.originalEvent=K,B.pullMode=L?L.lastPutMode:void 0;var ue,H=r(r({},I),Ie.getEventProperties(s,n));for(ue in H)B[ue]=H[ue];o&&o.dispatchEvent(B),U[t]&&U[t].call(n,B)}}function ie(t,n){var o=(s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).evt,s=c(s,ir);Ie.pluginEvent.bind(M)(t,n,r({dragEl:S,parentEl:Z,ghostEl:N,rootEl:W,nextEl:Ze,lastDownEl:Vt,cloneEl:Q,cloneHidden:Be,dragStarted:Et,putSortable:pe,activeSortable:M.active,originalEvent:o,oldIndex:dt,oldDraggableIndex:wt,newIndex:ye,newDraggableIndex:Ve,hideGhostForTarget:so,unhideGhostForTarget:co,cloneNowHidden:function(){Be=!0},cloneNowShown:function(){Be=!1},dispatchSortableEvent:function(l){he({sortable:n,name:l,originalEvent:o})}},s))}var ir=["evt"];function he(t){Le(r({putSortable:pe,cloneEl:Q,targetEl:S,rootEl:W,oldIndex:dt,oldDraggableIndex:wt,newIndex:ye,newDraggableIndex:Ve},t))}var S,Z,N,W,Ze,Vt,Q,Be,dt,ye,wt,Ve,Xt,pe,Qe,xe,Tn,xn,no,oo,Et,ft,St,Yt,ce,ht=!1,Wt=!1,Kt=[],Dt=!1,Ut=!1,An=[],Cn=!1,zt=[],Gt=typeof document<"u",Jt=k,ro=b||g?"cssFloat":"float",ar=Gt&&!At&&!k&&"draggable"in document.createElement("div"),io=(function(){if(Gt){if(g)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),ao=function(x,n){var o=A(x),s=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=be(x,0,n),u=be(x,1,n),m=l&&A(l),h=u&&A(u),v=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+$(l).width,x=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+$(u).width;return o.display==="flex"?o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal":o.display==="grid"?o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":l&&m.float&&m.float!=="none"?(n=m.float==="left"?"left":"right",!u||h.clear!=="both"&&h.clear!==n?"horizontal":"vertical"):l&&(m.display==="block"||m.display==="flex"||m.display==="table"||m.display==="grid"||s<=v&&o[ro]==="none"||u&&o[ro]==="none"&&s<v+x)?"vertical":"horizontal"},lo=function(t){function n(l,u){return function(m,h,v,x){var C=m.options.group.name&&h.options.group.name&&m.options.group.name===h.options.group.name;return l==null&&(u||C)?!0:l==null||l===!1?!1:u&&l==="clone"?l:typeof l=="function"?n(l(m,h,v,x),u)(m,h,v,x):(h=(u?m:h).options.group.name,l===!0||typeof l=="string"&&l===h||l.join&&-1<l.indexOf(h))}}var o={},s=t.group;s&&a(s)=="object"||(s={name:s}),o.name=s.name,o.checkPull=n(s.pull,!0),o.checkPut=n(s.put),o.revertClone=s.revertClone,t.group=o},so=function(){!io&&N&&A(N,"display","none")},co=function(){!io&&N&&A(N,"display","")};Gt&&!At&&document.addEventListener("click",function(t){if(Wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Wt=!1},!0);function et(t){if(S){t=t.touches?t.touches[0]:t;var n=(l=t.clientX,u=t.clientY,Kt.some(function(h){var v=h[ne].options.emptyInsertThreshold;if(v&&!P(h)){var x=$(h),C=l>=x.left-v&&l<=x.right+v,v=u>=x.top-v&&u<=x.bottom+v;return C&&v?m=h:void 0}}),m);if(n){var o,s={};for(o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[ne]._onDragOver(s)}}var l,u,m}function lr(t){S&&S.parentNode[ne]._isOutsideThisEl(t.target)}function M(t,n){if(!t||!t.nodeType||t.nodeType!==1)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=n=i({},n),t[ne]=this;var o,s,l={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ao(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,m){u.setData("Text",m.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:M.supportPointer!==!1&&"PointerEvent"in window&&!T,emptyInsertThreshold:5};for(o in Ie.initializePlugins(this,t,l),l)o in n||(n[o]=l[o]);for(s in lo(n),this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=!n.forceFallback&&ar,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?w(t,"pointerdown",this._onTapStart):(w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),Kt.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),i(this,ct())}function Zt(t,n,o,s,l,u,m,h){var v,x,C=t[ne],O=C.options.onMove;return!window.CustomEvent||g||b?(v=document.createEvent("Event")).initEvent("move",!0,!0):v=new CustomEvent("move",{bubbles:!0,cancelable:!0}),v.to=n,v.from=t,v.dragged=o,v.draggedRect=s,v.related=l||n,v.relatedRect=u||$(n),v.willInsertAfter=h,v.originalEvent=m,t.dispatchEvent(v),x=O?O.call(C,v,m):x}function Mn(t){t.draggable=!1}function sr(){Cn=!1}function Qt(t){return setTimeout(t,0)}function _n(t){return clearTimeout(t)}M.prototype={constructor:M,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ft=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,S):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,s=this.options,l=s.preventOnFilter,u=t.type,m=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,h=(m||t).target,v=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||h,x=s.filter;if((function(C){zt.length=0;for(var O=C.getElementsByTagName("input"),K=O.length;K--;){var L=O[K];L.checked&&zt.push(L)}})(o),!S&&!(/mousedown|pointerdown/.test(u)&&t.button!==0||s.disabled)&&!v.isContentEditable&&(this.nativeDraggable||!T||!h||h.tagName.toUpperCase()!=="SELECT")&&!((h=R(h,s.draggable,o,!1))&&h.animated||Vt===h)){if(dt=F(h),wt=F(h,s.draggable),typeof x=="function"){if(x.call(this,t,h,this))return he({sortable:n,rootEl:v,name:"filter",targetEl:h,toEl:o,fromEl:o}),ie("filter",n,{evt:t}),void(l&&t.cancelable&&t.preventDefault())}else if(x=x&&x.split(",").some(function(C){if(C=R(v,C.trim(),o,!1))return he({sortable:n,rootEl:C,name:"filter",targetEl:h,fromEl:o,toEl:o}),ie("filter",n,{evt:t}),!0}))return void(l&&t.cancelable&&t.preventDefault());s.handle&&!R(v,s.handle,o,!1)||this._prepareDragStart(t,m,h)}}},_prepareDragStart:function(t,n,o){var s,l=this,u=l.el,m=l.options,h=u.ownerDocument;o&&!S&&o.parentNode===u&&(s=$(o),W=u,Z=(S=o).parentNode,Ze=S.nextSibling,Vt=o,Xt=m.group,Qe={target:M.dragged=S,clientX:(n||t).clientX,clientY:(n||t).clientY},no=Qe.clientX-s.left,oo=Qe.clientY-s.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,S.style["will-change"]="all",s=function(){ie("delayEnded",l,{evt:t}),M.eventCanceled?l._onDrop():(l._disableDelayedDragEvents(),!y&&l.nativeDraggable&&(S.draggable=!0),l._triggerDragStart(t,n),he({sortable:l,name:"choose",originalEvent:t}),j(S,m.chosenClass,!0))},m.ignore.split(",").forEach(function(v){ve(S,v.trim(),Mn)}),w(h,"dragover",et),w(h,"mousemove",et),w(h,"touchmove",et),w(h,"mouseup",l._onDrop),w(h,"touchend",l._onDrop),w(h,"touchcancel",l._onDrop),y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,S.draggable=!0),ie("delayStart",this,{evt:t}),!m.delay||m.delayOnTouchOnly&&!n||this.nativeDraggable&&(b||g)?s():M.eventCanceled?this._onDrop():(w(h,"mouseup",l._disableDelayedDrag),w(h,"touchend",l._disableDelayedDrag),w(h,"touchcancel",l._disableDelayedDrag),w(h,"mousemove",l._delayedDragTouchMoveHandler),w(h,"touchmove",l._delayedDragTouchMoveHandler),m.supportPointer&&w(h,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(s,m.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t,Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){S&&Mn(S),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;D(t,"mouseup",this._disableDelayedDrag),D(t,"touchend",this._disableDelayedDrag),D(t,"touchcancel",this._disableDelayedDrag),D(t,"mousemove",this._delayedDragTouchMoveHandler),D(t,"touchmove",this._delayedDragTouchMoveHandler),D(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,n?"touchmove":"mousemove",this._onTouchMove):(w(S,"dragend",this),w(W,"dragstart",this._onDragStart));try{document.selection?Qt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){var o;ht=!1,W&&S?(ie("dragStarted",this,{evt:n}),this.nativeDraggable&&w(document,"dragover",lr),o=this.options,t||j(S,o.dragClass,!1),j(S,o.ghostClass,!0),M.active=this,t&&this._appendGhost(),he({sortable:this,name:"start",originalEvent:n})):this._nulling()},_emulateDragOver:function(){if(xe){this._lastX=xe.clientX,this._lastY=xe.clientY,so();for(var t=document.elementFromPoint(xe.clientX,xe.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(xe.clientX,xe.clientY))!==n;)n=t;if(S.parentNode[ne]._isOutsideThisEl(t),n)do if(n[ne]&&n[ne]._onDragOver({clientX:xe.clientX,clientY:xe.clientY,target:t,rootEl:n})&&!this.options.dragoverBubble)break;while(n=(t=n).parentNode);co()}},_onTouchMove:function(t){if(Qe){var u=this.options,n=u.fallbackTolerance,o=u.fallbackOffset,s=t.touches?t.touches[0]:t,l=N&&ae(N,!0),m=N&&l&&l.a,h=N&&l&&l.d,u=Jt&&ce&&ee(ce),m=(s.clientX-Qe.clientX+o.x)/(m||1)+(u?u[0]-An[0]:0)/(m||1),h=(s.clientY-Qe.clientY+o.y)/(h||1)+(u?u[1]-An[1]:0)/(h||1);if(!M.active&&!ht){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}N&&(l?(l.e+=m-(Tn||0),l.f+=h-(xn||0)):l={a:1,b:0,c:0,d:1,e:m,f:h},l="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")"),A(N,"webkitTransform",l),A(N,"mozTransform",l),A(N,"msTransform",l),A(N,"transform",l),Tn=m,xn=h,xe=s),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!N){var t=this.options.fallbackOnBody?document.body:W,n=$(S,!0,Jt,!0,t),o=this.options;if(Jt){for(ce=t;A(ce,"position")==="static"&&A(ce,"transform")==="none"&&ce!==document;)ce=ce.parentNode;ce!==document.body&&ce!==document.documentElement?(ce===document&&(ce=fe()),n.top+=ce.scrollTop,n.left+=ce.scrollLeft):ce=fe(),An=ee(ce)}j(N=S.cloneNode(!0),o.ghostClass,!1),j(N,o.fallbackClass,!0),j(N,o.dragClass,!0),A(N,"transition",""),A(N,"transform",""),A(N,"box-sizing","border-box"),A(N,"margin",0),A(N,"top",n.top),A(N,"left",n.left),A(N,"width",n.width),A(N,"height",n.height),A(N,"opacity","0.8"),A(N,"position",Jt?"absolute":"fixed"),A(N,"zIndex","100000"),A(N,"pointerEvents","none"),M.ghost=N,t.appendChild(N),A(N,"transform-origin",no/parseInt(N.style.width)*100+"% "+oo/parseInt(N.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,s=t.dataTransfer,l=o.options;ie("dragStart",this,{evt:t}),M.eventCanceled?this._onDrop():(ie("setupClone",this),M.eventCanceled||((Q=Je(S)).removeAttribute("id"),Q.draggable=!1,Q.style["will-change"]="",this._hideClone(),j(Q,this.options.chosenClass,!1),M.clone=Q),o.cloneId=Qt(function(){ie("clone",o),M.eventCanceled||(o.options.removeCloneOnHide||W.insertBefore(Q,S),o._hideClone(),he({sortable:o,name:"clone"}))}),n||j(S,l.dragClass,!0),n?(Wt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(D(document,"mouseup",o._onDrop),D(document,"touchend",o._onDrop),D(document,"touchcancel",o._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(o,s,S)),w(document,"drop",o),A(S,"transform","translateZ(0)")),ht=!0,o._dragStartId=Qt(o._dragStarted.bind(o,n,t)),w(document,"selectstart",o),Et=!0,T&&A(document.body,"user-select","none"))},_onDragOver:function(t){var n,o,s,l,u,m=this.el,h=t.target,v=this.options,x=v.group,C=M.active,O=Xt===x,K=v.sort,L=pe||C,I=this,B=!1;if(!Cn){if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),h=R(h,v.draggable,m,!0),$e("dragOver"),M.eventCanceled)return B;if(S.contains(t.target)||h.animated&&h.animatingX&&h.animatingY||I._ignoreWhileAnimating===h)return Ne(!1);if(Wt=!1,C&&!v.disabled&&(O?K||(o=Z!==W):pe===this||(this.lastPutMode=Xt.checkPull(this,C,S,t))&&x.checkPut(this,C,S,t))){if(s=this._getDirection(t,h)==="vertical",n=$(S),$e("dragOverValid"),M.eventCanceled)return B;if(o)return Z=W,tt(),this._hideClone(),$e("revert"),M.eventCanceled||(Ze?W.insertBefore(S,Ze):W.appendChild(S)),Ne(!0);var U=P(m,v.draggable);if(U&&(q=t,x=s,G=$(P((V=this).el,V.options.draggable)),V=He(V.el,V.options,N),!(x?q.clientX>V.right+10||q.clientY>G.bottom&&q.clientX>G.left:q.clientY>V.bottom+10||q.clientX>G.right&&q.clientY>G.top)||U.animated)){if(U&&(l=t,u=s,z=$(be((de=this).el,0,de.options,!0)),de=He(de.el,de.options,N),u?l.clientX<de.left-10||l.clientY<z.top&&l.clientX<z.right:l.clientY<de.top-10||l.clientY<z.bottom&&l.clientX<z.left)){var ue=be(m,0,v,!0);if(ue===S)return Ne(!1);if(Ee=$(h=ue),Zt(W,m,S,n,h,Ee,t,!1)!==!1)return tt(),m.insertBefore(S,ue),Z=m,an(),Ne(!0)}else if(h.parentNode===m){var H,Me,Xe,Ee=$(h),V=S.parentNode!==m,q=(q=S.animated&&S.toRect||n,G=h.animated&&h.toRect||Ee,de=(u=s)?q.left:q.top,l=u?q.right:q.bottom,z=u?q.width:q.height,ue=u?G.left:G.top,q=u?G.right:G.bottom,G=u?G.width:G.height,!(de===ue||l===q||de+z/2===ue+G/2)),de=s?"top":"left",z=Pe(h,"top","top")||Pe(S,"top","top"),ue=z?z.scrollTop:void 0;if(ft!==h&&(Me=Ee[de],Dt=!1,Ut=!q&&v.invertSwap||V),(H=(function(We,ln,Oe,Fe,Rn,sn,ho,dr){var Re=Fe?We.clientY:We.clientX,Ye=Fe?Oe.height:Oe.width,We=Fe?Oe.top:Oe.left,Fe=Fe?Oe.bottom:Oe.right,Oe=!1;if(!ho){if(dr&&Yt<Ye*Rn){if(Dt=!Dt&&(St===1?We+Ye*sn/2<Re:Re<Fe-Ye*sn/2)?!0:Dt)Oe=!0;else if(St===1?Re<We+Yt:Fe-Yt<Re)return-St}else if(We+Ye*(1-Rn)/2<Re&&Re<Fe-Ye*(1-Rn)/2)return(function(fr){return F(S)<F(fr)?1:-1})(ln)}return(Oe=Oe||ho)&&(Re<We+Ye*sn/2||Fe-Ye*sn/2<Re)?We+Ye/2<Re?1:-1:0})(t,h,Ee,s,q?1:v.swapThreshold,v.invertedSwapThreshold==null?v.swapThreshold:v.invertedSwapThreshold,Ut,ft===h))!==0)for(var rn=F(S);(Xe=Z.children[rn-=H])&&(A(Xe,"display")==="none"||Xe===N););if(H===0||Xe===h)return Ne(!1);St=H;var G=(ft=h).nextElementSibling,V=!1,q=Zt(W,m,S,n,h,Ee,t,V=H===1);if(q!==!1)return q!==1&&q!==-1||(V=q===1),Cn=!0,setTimeout(sr,30),tt(),V&&!G?m.appendChild(S):h.parentNode.insertBefore(S,V?G:h),z&&Te(z,0,ue-z.scrollTop),Z=S.parentNode,Me===void 0||Ut||(Yt=Math.abs(Me-$(h)[de])),an(),Ne(!0)}}else{if(U===S)return Ne(!1);if((h=U&&m===t.target?U:h)&&(Ee=$(h)),Zt(W,m,S,n,h,Ee,t,!!h)!==!1)return tt(),U&&U.nextSibling?m.insertBefore(S,U.nextSibling):m.appendChild(S),Z=m,an(),Ne(!0)}if(m.contains(S))return Ne(!1)}return!1}function $e(Nt,cr){ie(Nt,I,r({evt:t,isOwner:O,axis:s?"vertical":"horizontal",revert:o,dragRect:n,targetRect:Ee,canSort:K,fromSortable:L,target:h,completed:Ne,onMove:function(ln,ur){return Zt(W,m,S,n,ln,$(ln),t,ur)},changed:an},cr))}function tt(){$e("dragOverAnimationCapture"),I.captureAnimationState(),I!==L&&L.captureAnimationState()}function Ne(Nt){return $e("dragOverCompleted",{insertion:Nt}),Nt&&(O?C._hideClone():C._showClone(I),I!==L&&(j(S,(pe||C).options.ghostClass,!1),j(S,v.ghostClass,!0)),pe!==I&&I!==M.active?pe=I:I===M.active&&pe&&(pe=null),L===I&&(I._ignoreWhileAnimating=h),I.animateAll(function(){$e("dragOverAnimationComplete"),I._ignoreWhileAnimating=null}),I!==L&&(L.animateAll(),L._ignoreWhileAnimating=null)),(h===S&&!S.animated||h===m&&!h.animated)&&(ft=null),v.dragoverBubble||t.rootEl||h===document||(S.parentNode[ne]._isOutsideThisEl(t.target),Nt||et(t)),!v.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),B=!0}function an(){ye=F(S),Ve=F(S,v.draggable),he({sortable:I,name:"change",toEl:m,newIndex:ye,newDraggableIndex:Ve,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",et),D(document,"mousemove",et),D(document,"touchmove",et)},_offUpEvents:function(){var t=this.el.ownerDocument;D(t,"mouseup",this._onDrop),D(t,"touchend",this._onDrop),D(t,"pointerup",this._onDrop),D(t,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;ye=F(S),Ve=F(S,o.draggable),ie("drop",this,{evt:t}),Z=S&&S.parentNode,ye=F(S),Ve=F(S,o.draggable),M.eventCanceled||(Dt=Ut=ht=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_n(this.cloneId),_n(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),T&&A(document.body,"user-select",""),A(S,"transform",""),t&&(Et&&(t.cancelable&&t.preventDefault(),o.dropBubble||t.stopPropagation()),N&&N.parentNode&&N.parentNode.removeChild(N),(W===Z||pe&&pe.lastPutMode!=="clone")&&Q&&Q.parentNode&&Q.parentNode.removeChild(Q),S&&(this.nativeDraggable&&D(S,"dragend",this),Mn(S),S.style["will-change"]="",Et&&!ht&&j(S,(pe||this).options.ghostClass,!1),j(S,this.options.chosenClass,!1),he({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:t}),W!==Z?(0<=ye&&(he({rootEl:Z,name:"add",toEl:Z,fromEl:W,originalEvent:t}),he({sortable:this,name:"remove",toEl:Z,originalEvent:t}),he({rootEl:Z,name:"sort",toEl:Z,fromEl:W,originalEvent:t}),he({sortable:this,name:"sort",toEl:Z,originalEvent:t})),pe&&pe.save()):ye!==dt&&0<=ye&&(he({sortable:this,name:"update",toEl:Z,originalEvent:t}),he({sortable:this,name:"sort",toEl:Z,originalEvent:t})),M.active&&(ye!=null&&ye!==-1||(ye=dt,Ve=wt),he({sortable:this,name:"end",toEl:Z,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){ie("nulling",this),W=S=Z=N=Ze=Q=Vt=Be=Qe=xe=Et=ye=Ve=dt=wt=ft=St=pe=Xt=M.dragged=M.ghost=M.clone=M.active=null,zt.forEach(function(t){t.checked=!0}),zt.length=Tn=xn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":S&&(this._onDragOver(t),(function(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()})(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,n=[],o=this.el.children,s=0,l=o.length,u=this.options;s<l;s++)R(t=o[s],u.draggable,this.el,!1)&&n.push(t.getAttribute(u.dataIdAttr)||(function(m){for(var h=m.tagName+m.className+m.src+m.href+m.textContent,v=h.length,x=0;v--;)x+=h.charCodeAt(v);return x.toString(36)})(t));return n},sort:function(t,n){var o={},s=this.el;this.toArray().forEach(function(l,u){u=s.children[u],R(u,this.options.draggable,s,!1)&&(o[l]=u)},this),n&&this.captureAnimationState(),t.forEach(function(l){o[l]&&(s.removeChild(o[l]),s.appendChild(o[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return R(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var s=Ie.modifyOption(this,t,n);o[t]=s!==void 0?s:n,t==="group"&&lo(o)},destroy:function(){ie("destroy",this);var t=this.el;t[ne]=null,D(t,"mousedown",this._onTapStart),D(t,"touchstart",this._onTapStart),D(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(t,"dragover",this),D(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Kt.splice(Kt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){Be||(ie("hideClone",this),M.eventCanceled||(A(Q,"display","none"),this.options.removeCloneOnHide&&Q.parentNode&&Q.parentNode.removeChild(Q),Be=!0))},_showClone:function(t){t.lastPutMode==="clone"?Be&&(ie("showClone",this),M.eventCanceled||(S.parentNode!=W||this.options.group.revertClone?Ze?W.insertBefore(Q,Ze):W.appendChild(Q):W.insertBefore(Q,S),this.options.group.revertClone&&this.animate(S,Q),A(Q,"display",""),Be=!1)):this._hideClone()}},Gt&&w(document,"touchmove",function(t){(M.active||ht)&&t.cancelable&&t.preventDefault()}),M.utils={on:w,off:D,css:A,find:ve,is:function(t,n){return!!R(t,n,t,!1)},extend:function(t,n){if(t&&n)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o]);return t},throttle:le,closest:R,toggleClass:j,clone:Je,index:F,nextTick:Qt,cancelNextTick:_n,detectDirection:ao,getChild:be},M.get=function(t){return t[ne]},M.mount=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(n=n[0].constructor===Array?n[0]:n).forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(M.utils=r(r({},M.utils),s.utils)),Ie.mount(s)})},M.create=function(t,n){return new M(t,n)};var Tt,Nn,On,kn,en,xt,oe=[],Pn=!(M.version="1.15.2");function tn(){oe.forEach(function(t){clearInterval(t.pid)}),oe=[]}function uo(){clearInterval(xt)}var Ae,In=le(function(t,n,o,s){if(n.scroll){var l,u=(t.touches?t.touches[0]:t).clientX,m=(t.touches?t.touches[0]:t).clientY,h=n.scrollSensitivity,v=n.scrollSpeed,x=fe(),C=!1;Nn!==o&&(Nn=o,tn(),Tt=n.scroll,l=n.scrollFn,Tt===!0&&(Tt=te(o,!0)));var O=0,K=Tt;do{var L=K,V=$(L),I=V.top,B=V.bottom,U=V.left,ue=V.right,H=V.width,Me=V.height,Xe=void 0,rn=void 0,Ee=L.scrollWidth,de=L.scrollHeight,z=A(L),G=L.scrollLeft,V=L.scrollTop,rn=L===x?(Xe=H<Ee&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),Me<de&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(Xe=H<Ee&&(z.overflowX==="auto"||z.overflowX==="scroll"),Me<de&&(z.overflowY==="auto"||z.overflowY==="scroll")),G=Xe&&(Math.abs(ue-u)<=h&&G+H<Ee)-(Math.abs(U-u)<=h&&!!G),V=rn&&(Math.abs(B-m)<=h&&V+Me<de)-(Math.abs(I-m)<=h&&!!V);if(!oe[O])for(var q=0;q<=O;q++)oe[q]||(oe[q]={});oe[O].vx==G&&oe[O].vy==V&&oe[O].el===L||(oe[O].el=L,oe[O].vx=G,oe[O].vy=V,clearInterval(oe[O].pid),G==0&&V==0||(C=!0,oe[O].pid=setInterval(function(){s&&this.layer===0&&M.active._onTouchMove(en);var $e=oe[this.layer].vy?oe[this.layer].vy*v:0,tt=oe[this.layer].vx?oe[this.layer].vx*v:0;typeof l=="function"&&l.call(M.dragged.parentNode[ne],tt,$e,t,en,oe[this.layer].el)!=="continue"||Te(oe[this.layer].el,tt,$e)}.bind({layer:O}),24))),O++}while(n.bubbleScroll&&K!==x&&(K=te(K,!1)));Pn=C}},30),At=function(h){var n=h.originalEvent,o=h.putSortable,s=h.dragEl,l=h.activeSortable,u=h.dispatchSortableEvent,m=h.hideGhostForTarget,h=h.unhideGhostForTarget;n&&(l=o||l,m(),n=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n=document.elementFromPoint(n.clientX,n.clientY),h(),l&&!l.el.contains(n)&&(u("spill"),this.onSpill({dragEl:s,putSortable:o})))};function Ln(){}function $n(){}Ln.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex,this.startIndex=t},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState(),t=be(this.sortable.el,this.startIndex,this.options),t?this.sortable.el.insertBefore(n,t):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:At},i(Ln,{pluginName:"revertOnSpill"}),$n.prototype={onSpill:function(o){var n=o.dragEl,o=o.putSortable||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:At},i($n,{pluginName:"removeOnSpill"});var Ct,Ce,Y,Mt,nn,_=[],we=[],_t=!1,ge=!1,pt=!1;function fo(t,n){we.forEach(function(o,s){s=n.children[o.sortableIndex+(t?Number(s):0)],s?n.insertBefore(o,s):n.appendChild(o)})}function on(){_.forEach(function(t){t!==Y&&t.parentNode&&t.parentNode.removeChild(t)})}return M.mount(new function(){function t(){for(var n in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return t.prototype={dragStarted:function(n){n=n.originalEvent,this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):n.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){n=n.originalEvent,this.options.dragOverBubble||n.rootEl||this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):(D(document,"pointermove",this._handleFallbackAutoScroll),D(document,"touchmove",this._handleFallbackAutoScroll),D(document,"mousemove",this._handleFallbackAutoScroll)),uo(),tn(),clearTimeout(J),J=void 0},nulling:function(){en=Nn=Tt=Pn=xt=On=kn=null,oe.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var s,l=this,u=(n.touches?n.touches[0]:n).clientX,m=(n.touches?n.touches[0]:n).clientY,h=document.elementFromPoint(u,m);en=n,o||this.options.forceAutoScrollFallback||b||g||T?(In(n,this.options,h,o),s=te(h,!0),!Pn||xt&&u===On&&m===kn||(xt&&uo(),xt=setInterval(function(){var v=te(document.elementFromPoint(u,m),!0);v!==s&&(s=v,tn()),In(n,l.options,v,o)},10),On=u,kn=m)):this.options.bubbleScroll&&te(h,!0)!==fe()?In(n,this.options,te(h,!1),!1):tn()}},i(t,{pluginName:"scroll",initializeByDefault:!0})}),M.mount($n,Ln),M.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){n=n.dragEl,Ae=n},dragOverValid:function(n){var o=n.completed,s=n.target,l=n.onMove,u=n.activeSortable,m=n.changed,h=n.cancel;u.options.swap&&(n=this.sortable.el,u=this.options,s&&s!==n&&(n=Ae,Ae=l(s)!==!1?(j(s,u.swapClass,!0),s):null,n&&n!==Ae&&j(n,u.swapClass,!1)),m(),o(!0),h())},drop:function(n){var o,s,l=n.activeSortable,u=n.putSortable,m=n.dragEl,h=u||this.sortable,v=this.options;Ae&&j(Ae,v.swapClass,!1),Ae&&(v.swap||u&&u.options.swap)&&m!==Ae&&(h.captureAnimationState(),h!==l&&l.captureAnimationState(),s=Ae,n=(o=m).parentNode,v=s.parentNode,n&&v&&!n.isEqualNode(s)&&!v.isEqualNode(o)&&(u=F(o),m=F(s),n.isEqualNode(v)&&u<m&&m++,n.insertBefore(s,n.children[u]),v.insertBefore(o,v.children[m])),h.animateAll(),h!==l&&l.animateAll())},nulling:function(){Ae=null}},i(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Ae}}})}),M.mount(new function(){function t(n){for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));n.options.avoidImplicitDeselect||(n.options.supportPointer?w(document,"pointerup",this._deselectMultiDrag):(w(document,"mouseup",this._deselectMultiDrag),w(document,"touchend",this._deselectMultiDrag))),w(document,"keydown",this._checkKeyDown),w(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(s,l){var u="";_.length&&Ce===n?_.forEach(function(m,h){u+=(h?", ":"")+m.textContent}):u=l.textContent,s.setData("Text",u)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){n=n.dragEl,Y=n},delayEnded:function(){this.isMultiDrag=~_.indexOf(Y)},setupClone:function(s){var o=s.sortable,s=s.cancel;if(this.isMultiDrag){for(var l=0;l<_.length;l++)we.push(Je(_[l])),we[l].sortableIndex=_[l].sortableIndex,we[l].draggable=!1,we[l].style["will-change"]="",j(we[l],this.options.selectedClass,!1),_[l]===Y&&j(we[l],this.options.chosenClass,!1);o._hideClone(),s()}},clone:function(u){var o=u.sortable,s=u.rootEl,l=u.dispatchSortableEvent,u=u.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||_.length&&Ce===o&&(fo(!0,s),l("clone"),u()))},showClone:function(l){var o=l.cloneNowShown,s=l.rootEl,l=l.cancel;this.isMultiDrag&&(fo(!1,s),we.forEach(function(u){A(u,"display","")}),o(),nn=!1,l())},hideClone:function(l){var o=this,s=(l.sortable,l.cloneNowHidden),l=l.cancel;this.isMultiDrag&&(we.forEach(function(u){A(u,"display","none"),o.options.removeCloneOnHide&&u.parentNode&&u.parentNode.removeChild(u)}),s(),nn=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Ce&&Ce.multiDrag._deselectMultiDrag(),_.forEach(function(o){o.sortableIndex=F(o)}),_=_.sort(function(o,s){return o.sortableIndex-s.sortableIndex}),pt=!0},dragStarted:function(l){var o,s=this,l=l.sortable;this.isMultiDrag&&(this.options.sort&&(l.captureAnimationState(),this.options.animation&&(_.forEach(function(u){u!==Y&&A(u,"position","absolute")}),o=$(Y,!1,!0,!0),_.forEach(function(u){u!==Y&&st(u,o)}),_t=ge=!0)),l.animateAll(function(){_t=ge=!1,s.options.animation&&_.forEach(function(u){me(u)}),s.options.sort&&on()}))},dragOver:function(l){var o=l.target,s=l.completed,l=l.cancel;ge&&~_.indexOf(o)&&(s(!1),l())},revert:function(n){var o,s,l=n.fromSortable,u=n.rootEl,m=n.sortable,h=n.dragRect;1<_.length&&(_.forEach(function(v){m.addAnimationState({target:v,rect:ge?$(v):h}),me(v),v.fromRect=h,l.removeAnimationState(v)}),ge=!1,o=!this.options.removeCloneOnHide,s=u,_.forEach(function(v,x){x=s.children[v.sortableIndex+(o?Number(x):0)],x?s.insertBefore(v,x):s.appendChild(v)}))},dragOverCompleted:function(x){var o,s=x.sortable,l=x.isOwner,u=x.insertion,m=x.activeSortable,h=x.parentEl,v=x.putSortable,x=this.options;u&&(l&&m._hideClone(),_t=!1,x.animation&&1<_.length&&(ge||!l&&!m.options.sort&&!v)&&(o=$(Y,!1,!0,!0),_.forEach(function(C){C!==Y&&(st(C,o),h.appendChild(C))}),ge=!0),l||(ge||on(),1<_.length?(l=nn,m._showClone(s),m.options.animation&&!nn&&l&&we.forEach(function(C){m.addAnimationState({target:C,rect:Mt}),C.fromRect=Mt,C.thisAnimationDuration=null})):m._showClone(s)))},dragOverAnimationCapture:function(l){var o=l.dragRect,s=l.isOwner,l=l.activeSortable;_.forEach(function(u){u.thisAnimationDuration=null}),l.options.animation&&!s&&l.multiDrag.isMultiDrag&&(Mt=i({},o),o=ae(Y,!0),Mt.top-=o.f,Mt.left-=o.e)},dragOverAnimationComplete:function(){ge&&(ge=!1,on())},drop:function(n){var o=n.originalEvent,s=n.rootEl,l=n.parentEl,u=n.sortable,m=n.dispatchSortableEvent,h=n.oldIndex,v=n.putSortable,x=v||this.sortable;if(o){var C,O,K,L=this.options,I=l.children;if(!pt)if(L.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),j(Y,L.selectedClass,!~_.indexOf(Y)),~_.indexOf(Y))_.splice(_.indexOf(Y),1),Ct=null,Le({sortable:u,rootEl:s,name:"deselect",targetEl:Y,originalEvent:o});else{if(_.push(Y),Le({sortable:u,rootEl:s,name:"select",targetEl:Y,originalEvent:o}),o.shiftKey&&Ct&&u.el.contains(Ct)){var B=F(Ct),n=F(Y);if(~B&&~n&&B!==n)for(var U,ue=B<n?(U=B,n):(U=n,B+1);U<ue;U++)~_.indexOf(I[U])||(j(I[U],L.selectedClass,!0),_.push(I[U]),Le({sortable:u,rootEl:s,name:"select",targetEl:I[U],originalEvent:o}))}else Ct=Y;Ce=x}pt&&this.isMultiDrag&&(ge=!1,(l[ne].options.sort||l!==s)&&1<_.length&&(C=$(Y),O=F(Y,":not(."+this.options.selectedClass+")"),!_t&&L.animation&&(Y.thisAnimationDuration=null),x.captureAnimationState(),_t||(L.animation&&(Y.fromRect=C,_.forEach(function(H){var Me;H.thisAnimationDuration=null,H!==Y&&(Me=ge?$(H):C,H.fromRect=Me,x.addAnimationState({target:H,rect:Me}))})),on(),_.forEach(function(H){I[O]?l.insertBefore(H,I[O]):l.appendChild(H),O++}),h===F(Y)&&(K=!1,_.forEach(function(H){H.sortableIndex!==F(H)&&(K=!0)}),K&&(m("update"),m("sort")))),_.forEach(function(H){me(H)}),x.animateAll()),Ce=x),(s===l||v&&v.lastPutMode!=="clone")&&we.forEach(function(H){H.parentNode&&H.parentNode.removeChild(H)})}},nullingGlobal:function(){this.isMultiDrag=pt=!1,we.length=0},destroyGlobal:function(){this._deselectMultiDrag(),D(document,"pointerup",this._deselectMultiDrag),D(document,"mouseup",this._deselectMultiDrag),D(document,"touchend",this._deselectMultiDrag),D(document,"keydown",this._checkKeyDown),D(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(pt!==void 0&&pt||Ce!==this.sortable||n&&R(n.target,this.options.draggable,this.sortable.el,!1)||n&&n.button!==0))for(;_.length;){var o=_[0];j(o,this.options.selectedClass,!1),_.shift(),Le({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(t,{pluginName:"multiDrag",utils:{select:function(n){var o=n.parentNode[ne];o&&o.options.multiDrag&&!~_.indexOf(n)&&(Ce&&Ce!==o&&(Ce.multiDrag._deselectMultiDrag(),Ce=o),j(n,o.options.selectedClass,!0),_.push(n))},deselect:function(n){var o=n.parentNode[ne],s=_.indexOf(n);o&&o.options.multiDrag&&~s&&(j(n,o.options.selectedClass,!1),_.splice(s,1))}},eventProperties:function(){var n=this,o=[],s=[];return _.forEach(function(l){var u;o.push({multiDragElement:l,index:l.sortableIndex}),u=ge&&l!==Y?-1:ge?F(l,":not(."+n.options.selectedClass+")"):F(l),s.push({multiDragElement:l,index:u})}),{items:p(_),clones:[].concat(we),oldIndicies:o,newIndicies:s}},optionListeners:{multiDragKey:function(n){return(n=n.toLowerCase())==="ctrl"?n="Control":1<n.length&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}),M})});var Io=/ðŸ–•JS_DSðŸš€/.source,mo=Io.slice(0,5),go=Io.slice(4),$t="datastar-fetch",gn="datastar-signal-patch",ke=Object.hasOwn??Object.prototype.hasOwnProperty.call,rt=e=>e!==null&&typeof e=="object"&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null),Er=e=>{for(let r in e)if(ke(e,r))return!1;return!0},wn=(e,r)=>{for(let a in e){let i=e[a];rt(i)||Array.isArray(i)?wn(i,r):e[a]=r(i)}},Un=e=>{let r={};for(let[a,i]of e){let c=a.split("."),p=c.pop(),d=c.reduce((f,g)=>f[g]??={},r);d[p]=i}return r},cn=[],Hn=[],En=0,un=0,qn=0,Bn,je,hn=0,Ue=()=>{En++},ze=()=>{--En||(Lo(),Ke())},it=e=>{Bn=je,je=e},at=()=>{je=Bn,Bn=void 0},dn=e=>Sr.bind(0,{previousValue:e,t:e,e:1}),Vn=Symbol("computed"),vo=e=>{let r=Dr.bind(0,{e:17,getter:e});return r[Vn]=1,r},Ge=e=>{let r={d:e,e:2};je&&Gn(r,je),it(r),Ue();try{r.d()}finally{ze(),at()}return jo.bind(0,r)},Lo=()=>{for(;un<qn;){let e=Hn[un];Hn[un++]=void 0,Fo(e,e.e&=-65)}un=0,qn=0},bo=e=>"getter"in e?$o(e):Ro(e,e.t),$o=e=>{it(e),Ho(e);try{let r=e.t;return r!==(e.t=e.getter(r))}finally{at(),qo(e)}},Ro=(e,r)=>(e.e=1,e.previousValue!==(e.previousValue=r)),zn=e=>{let r=e.e;if(!(r&64)){e.e=r|64;let a=e.r;a?zn(a.o):Hn[qn++]=e}},Fo=(e,r)=>{if(r&16||r&32&&Bo(e.s,e)){it(e),Ho(e),Ue();try{e.d()}finally{ze(),at(),qo(e)}return}r&32&&(e.e=r&-33);let a=e.s;for(;a;){let i=a.c,c=i.e;c&64&&Fo(i,i.e=c&-65),a=a.i}},Sr=(e,...r)=>{if(r.length){if(e.t!==(e.t=r[0])){e.e=17;let i=e.r;return i&&(Tr(i),En||Lo()),!0}return!1}let a=e.t;if(e.e&16&&Ro(e,a)){let i=e.r;i&&bn(i)}return je&&Gn(e,je),a},Dr=e=>{let r=e.e;if(r&16||r&32&&Bo(e.s,e)){if($o(e)){let a=e.r;a&&bn(a)}}else r&32&&(e.e=r&-33);return je&&Gn(e,je),e.t},jo=e=>{let r=e.s;for(;r;)r=vn(r,e);let a=e.r;a&&vn(a),e.e=0},Gn=(e,r)=>{let a=r.a;if(a&&a.c===e)return;let i=a?a.i:r.s;if(i&&i.c===e){i.m=hn,r.a=i;return}let c=e.p;if(c&&c.m===hn&&c.o===r)return;let p=r.a=e.p={m:hn,c:e,o:r,l:a,i,u:c};i&&(i.l=p),a?a.i=p:r.s=p,c?c.n=p:e.r=p},vn=(e,r=e.o)=>{let a=e.c,i=e.l,c=e.i,p=e.n,d=e.u;if(c?c.l=i:r.a=i,i?i.i=c:r.s=c,p?p.u=d:a.p=d,d)d.n=p;else if(!(a.r=p))if("getter"in a){let f=a.s;if(f){a.e=17;do f=vn(f,a);while(f)}}else"previousValue"in a||jo(a);return c},Tr=e=>{let r=e.n,a;e:for(;;){let i=e.o,c=i.e;if(c&60?c&12?c&4?!(c&48)&&xr(e,i)?(i.e=c|40,c&=1):c=0:i.e=c&-9|32:c=0:i.e=c|32,c&2&&zn(i),c&1){let p=i.r;if(p){let d=(e=p).n;d&&(a={t:r,f:a},r=d);continue}}if(e=r){r=e.n;continue}for(;a;)if(e=a.t,a=a.f,e){r=e.n;continue e}break}},Ho=e=>{hn++,e.a=void 0,e.e=e.e&-57|4},qo=e=>{let r=e.a,a=r?r.i:e.s;for(;a;)a=vn(a,e);e.e&=-5},Bo=(e,r)=>{let a,i=0,c=!1;e:for(;;){let p=e.c,d=p.e;if(r.e&16)c=!0;else if((d&17)===17){if(bo(p)){let f=p.r;f.n&&bn(f),c=!0}}else if((d&33)===33){(e.n||e.u)&&(a={t:e,f:a}),e=p.s,r=p,++i;continue}if(!c){let f=e.i;if(f){e=f;continue}}for(;i--;){let f=r.r,g=f.n;if(g?(e=a.t,a=a.f):e=f,c){if(bo(r)){g&&bn(f),r=e.o;continue}c=!1}else r.e&=-33;if(r=e.o,e.i){e=e.i;continue e}}return c}},bn=e=>{do{let r=e.o,a=r.e;(a&48)===32&&(r.e=a|16,a&2&&zn(r))}while(e=e.n)},xr=(e,r)=>{let a=r.a;for(;a;){if(a===e)return!0;a=a.l}return!1},pn=e=>{let r=Rt,a=e.split(".");for(let i of a){if(r==null||!ke(r,i))return;r=r[i]}return r},mn=(e,r="")=>{let a=Array.isArray(e);if(a||rt(e)){let i=a?[]:{};for(let p in e)i[p]=dn(mn(e[p],`${r+p}.`));let c=dn(0);return new Proxy(i,{get(p,d){if(!(d==="toJSON"&&!ke(i,d)))return a&&d in Array.prototype?(c(),i[d]):typeof d=="symbol"?i[d]:((!ke(i,d)||i[d]()==null)&&(i[d]=dn(""),Ke(r+d,""),c(c()+1)),i[d]())},set(p,d,f){let g=r+d;if(a&&d==="length"){let b=i[d]-f;if(i[d]=f,b>0){let y={};for(let T=f;T<i[d];T++)y[T]=null;Ke(r.slice(0,-1),y),c(c()+1)}}else if(ke(i,d))if(f==null)delete i[d];else if(ke(f,Vn))i[d]=f,Ke(g,"");else{let b=i[d](),y=`${g}.`;if(rt(b)&&rt(f)){for(let T in b)ke(f,T)||(delete b[T],Ke(y+T,null));for(let T in f){let k=f[T];b[T]!==k&&(b[T]=k)}}else i[d](mn(f,y))&&Ke(g,f)}else f!=null&&(ke(f,Vn)?(i[d]=f,Ke(g,"")):(i[d]=dn(mn(f,`${g}.`)),Ke(g,f)),c(c()+1));return!0},deleteProperty(p,d){return delete i[d],c(c()+1),!0},ownKeys(){return c(),Reflect.ownKeys(i)},has(p,d){return c(),d in i}})}return e},Ke=(e,r)=>{if(e!==void 0&&r!==void 0&&cn.push([e,r]),!En&&cn.length){let a=Un(cn);cn.length=0,document.dispatchEvent(new CustomEvent(gn,{detail:a}))}},yt=(e,{ifMissing:r}={})=>{Ue();for(let a in e)e[a]==null?r||delete Rt[a]:Vo(e[a],a,Rt,"",r);ze()},_e=(e,r)=>yt(Un(e),r),Vo=(e,r,a,i,c)=>{if(rt(e)){ke(a,r)&&(rt(a[r])||Array.isArray(a[r]))||(a[r]={});for(let p in e)e[p]==null?c||delete a[r][p]:Vo(e[p],p,a[r],`${i+r}.`,c)}else c&&ke(a,r)||(a[r]=e)},yo=e=>typeof e=="string"?RegExp(e.replace(/^\/|\/$/g,"")):e,Ht=({include:e=/.*/,exclude:r=/(?!)/}={},a=Rt)=>{let i=yo(e),c=yo(r),p=[],d=[[a,""]];for(;d.length;){let[f,g]=d.pop();for(let b in f){let y=g+b;rt(f[b])?d.push([f[b],`${y}.`]):i.test(y)&&!c.test(y)&&p.push([y,pn(y)])}}return Un(p)},Rt=mn({}),vt=e=>e instanceof HTMLElement||e instanceof SVGElement||e instanceof MathMLElement,Jn=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([a-z])([0-9]+)/gi,"$1-$2").replace(/([0-9]+)([a-z])/gi,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Ar=e=>Jn(e).replace(/-/g,"_"),Zn=e=>{try{return JSON.parse(e)}catch{return Function(`return (${e})`)()}},Xo={camel:e=>e.replace(/-[a-z]/g,r=>r[1].toUpperCase()),snake:e=>e.replace(/-/g,"_"),pascal:e=>e[0].toUpperCase()+Xo.camel(e.slice(1))},lt=(e,r,a="camel")=>{for(let i of r.get("case")||[a])e=Xo[i]?.(e)||e;return e},qt=e=>`data-${e}`,Cr="https://data-star.dev/errors",Pt=(e,r,a={})=>{Object.assign(a,e);let i=new Error,c=Ar(r),p=new URLSearchParams({metadata:JSON.stringify(a)}).toString(),d=JSON.stringify(a,null,2);return i.message=`${r}
More info: ${Cr}/${c}?${p}
Context: ${d}`,i},It=new Map,Xn=new Map,Yo=new Map,Mr=new Proxy({},{get:(e,r)=>It.get(r)?.apply,has:(e,r)=>It.has(r),ownKeys:()=>Reflect.ownKeys(It),set:()=>!1,deleteProperty:()=>!1}),Ft=new Map,fn=[],Yn=new Set,_r=new WeakSet,se=e=>{fn.push(e),fn.length===1&&setTimeout(()=>{for(let r of fn)Yn.add(r.name),Xn.set(r.name,r);fn.length=0,Ir(),Yn.clear()})},ot=e=>{It.set(e.name,e)};document.addEventListener($t,e=>{let r=Yo.get(e.detail.type);r&&r.apply({error:Pt.bind(0,{plugin:{type:"watcher",name:r.name},element:{id:e.target.id,tag:e.target.tagName}})},e.detail.argsRaw)});var Wo=e=>{Yo.set(e.name,e)},wo=e=>{for(let r of e){let a=Ft.get(r);if(a&&Ft.delete(r))for(let i of a.values())for(let c of i.values())c()}},Ko=qt("ignore"),Nr=`[${Ko}]`,Uo=e=>e.hasAttribute(`${Ko}__self`)||!!e.closest(Nr),yn=(e,r)=>{for(let a of e)if(!Uo(a))for(let i in a.dataset)zo(a,i.replace(/[A-Z]/g,"-$&").toLowerCase(),a.dataset[i],r)},Or=e=>{for(let{target:r,type:a,attributeName:i,addedNodes:c,removedNodes:p}of e)if(a==="childList"){for(let d of p)vt(d)&&(wo([d]),wo(d.querySelectorAll("*")));for(let d of c)vt(d)&&(yn([d]),yn(d.querySelectorAll("*")))}else if(a==="attributes"&&i.startsWith("data-")&&vt(r)&&!Uo(r)){let d=i.slice(5),f=r.getAttribute(i);if(f===null){let g=Ft.get(r);if(g){let b=g.get(d);if(b){for(let y of b.values())y();g.delete(d)}}}else zo(r,d,f)}},kr=new MutationObserver(Or),Pr=e=>{let[r,...a]=e.split("__"),[i,c]=r.split(/:(.+)/),p=new Map;for(let d of a){let[f,...g]=d.split(".");p.set(f,new Set(g))}return{pluginName:i,key:c,mods:p}},Ir=(e=document.documentElement,r=!0)=>{vt(e)&&yn([e],!0),yn(e.querySelectorAll("*"),!0),r&&(kr.observe(e,{subtree:!0,childList:!0,attributes:!0}),_r.add(e))},zo=(e,r,a,i)=>{{let c=r,{pluginName:p,key:d,mods:f}=Pr(c),g=Xn.get(p);if((!i||Yn.has(p))&&g){let b={el:e,rawKey:c,mods:f,error:Pt.bind(0,{plugin:{type:"attribute",name:g.name},element:{id:e.id,tag:e.tagName},expression:{rawKey:c,key:d,value:a}}),key:d,value:a,loadedPluginNames:{actions:new Set(It.keys()),attributes:new Set(Xn.keys())},rx:void 0},y=g.requirement&&(typeof g.requirement=="string"?g.requirement:g.requirement.key)||"allowed",T=g.requirement&&(typeof g.requirement=="string"?g.requirement:g.requirement.value)||"allowed",k=d!=null&&d!=="",E=a!=null&&a!=="";if(k){if(y==="denied")throw b.error("KeyNotAllowed")}else if(y==="must")throw b.error("KeyRequired");if(E){if(T==="denied")throw b.error("ValueNotAllowed")}else if(T==="must")throw b.error("ValueRequired");if(y==="exclusive"||T==="exclusive"){if(k&&E)throw b.error("KeyAndValueProvided");if(!k&&!E)throw b.error("KeyOrValueRequired")}let w=new Map;if(E){let R;b.rx=(...J)=>(R||(R=Lr(a,{returnsValue:g.returnsValue,argNames:g.argNames,cleanups:w})),R(e,...J))}let D=g.apply(b);D&&w.set("attribute",D);let X=Ft.get(e);if(X){let R=X.get(c);if(R)for(let J of R.values())J()}else X=new Map,Ft.set(e,X);X.set(c,w)}}},Lr=(e,{returnsValue:r=!1,argNames:a=[],cleanups:i=new Map}={})=>{let c="";if(r){let g=/(\/(\\\/|[^/])*\/|"(\\"|[^"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|\(\s*((function)\s*\(\s*\)|(\(\s*\))\s*=>)\s*(?:\{[\s\S]*?\}|[^;){]*)\s*\)\s*\(\s*\)|[^;])+/gm,b=e.trim().match(g);if(b){let y=b.length-1,T=b[y].trim();T.startsWith("return")||(b[y]=`return (${T});`),c=b.join(`;
`)}}else c=e.trim();let p=new Map,d=RegExp(`(?:${mo})(.*?)(?:${go})`,"gm"),f=0;for(let g of c.matchAll(d)){let b=g[1],y=`__escaped${f++}`;p.set(y,b),c=c.replace(mo+b+go,y)}c=c.replace(/\$\['([a-zA-Z_$\d][\w$]*)'\]/g,"$$$1").replace(/\$([a-zA-Z_\d]\w*(?:[.-]\w+)*)/g,(g,b)=>b.split(".").reduce((y,T)=>`${y}['${T}']`,"$")),c=c.replaceAll(/@([A-Za-z_$][\w$]*)\(/g,'__action("$1",evt,');for(let[g,b]of p)c=c.replace(g,b);try{let g=Function("el","$","__action","evt",...a,c);return(b,...y)=>{let T=(k,E,...w)=>{let D=Pt.bind(0,{plugin:{type:"action",name:k},element:{id:b.id,tag:b.tagName},expression:{fnContent:c,value:e}}),X=Mr[k];if(X)return X({el:b,evt:E,error:D,cleanups:i},...w);throw D("UndefinedAction")};try{return g(b,Rt,T,void 0,...y)}catch(k){throw console.error(k),Pt({element:{id:b.id,tag:b.tagName},expression:{fnContent:c,value:e},error:k.message},"ExecuteExpression")}}}catch(g){throw console.error(g),Pt({expression:{fnContent:c,value:e},error:g.message},"GenerateExpression")}};ot({name:"peek",apply(e,r){it();try{return r()}finally{at()}}});ot({name:"setAll",apply(e,r,a){it();let i=Ht(a);wn(i,()=>r),yt(i),at()}});ot({name:"toggleAll",apply(e,r){it();let a=Ht(r);wn(a,i=>!i),yt(a),at()}});var Bt=(e,r,a=!0)=>ot({name:e,apply:async({el:i,evt:c,error:p,cleanups:d},f,{selector:g,headers:b,contentType:y="json",filterSignals:{include:T=/.*/,exclude:k=/(^|\.)_/}={},openWhenHidden:E=a,payload:w,requestCancellation:D="auto",retry:X="auto",retryInterval:R=1e3,retryScaler:J=2,retryMaxWaitMs:Se=3e4,retryMaxCount:j=10}={})=>{let A=D instanceof AbortController?D:new AbortController;D==="auto"&&(d.get(`@${e}`)?.(),d.set(`@${e}`,async()=>{A.abort(),await Promise.resolve()}));let ae=null;try{if(!f?.length)throw p("FetchNoUrlProvided",{action:ot});let ve={Accept:"text/event-stream, text/html, application/json","Datastar-Request":!0};y==="json"&&(ve["Content-Type"]="application/json");let fe=Object.assign({},ve,b),$={method:r,headers:fe,openWhenHidden:E,retry:X,retryInterval:R,retryScaler:J,retryMaxWaitMs:Se,retryMaxCount:j,signal:A.signal,onopen:async P=>{P.status>=400&&nt($r,i,{status:P.status.toString()})},onmessage:P=>{if(!P.event.startsWith("datastar"))return;let F=P.event,ee={};for(let re of P.data.split(`
`)){let le=re.indexOf(" "),Te=re.slice(0,le),Je=re.slice(le+1);(ee[Te]||=[]).push(Je)}let te=Object.fromEntries(Object.entries(ee).map(([re,le])=>[re,le.join(`
`)]));nt(F,i,te)},onerror:P=>{if(Eo(P))throw P("FetchExpectedTextEventStream",{url:f});P&&(console.error(P.message),nt(Rr,i,{message:P.message}))}},Pe=new URL(f,document.baseURI),be=new URLSearchParams(Pe.search);if(y==="json"){it(),w=w!==void 0?w:Ht({include:T,exclude:k}),at();let P=JSON.stringify(w);r==="GET"?be.set("datastar",P):$.body=P}else if(y==="form"){let P=g?document.querySelector(g):i.closest("form");if(!P)throw p("FetchFormNotFound",{action:ot,selector:g});if(!P.noValidate&&!P.checkValidity()){P.reportValidity();return}let F=new FormData(P),ee=i;if(i===P&&c instanceof SubmitEvent)ee=c.submitter;else{let le=Te=>Te.preventDefault();P.addEventListener("submit",le),ae=()=>{P.removeEventListener("submit",le)}}if(ee instanceof HTMLButtonElement){let le=ee.getAttribute("name");le&&F.append(le,ee.value)}let te=P.getAttribute("enctype")==="multipart/form-data";te||(fe["Content-Type"]="application/x-www-form-urlencoded");let re=new URLSearchParams(F);if(r==="GET")for(let[le,Te]of re)be.append(le,Te);else te?$.body=F:$.body=re}else throw p("FetchInvalidContentType",{action:ot,contentType:y});nt(Go,i,{}),Pe.search=be.toString();try{await Vr(Pe.toString(),i,$)}catch(P){if(!Eo(P))throw p("FetchFailed",{method:r,url:f,error:P.message})}}finally{nt(Jo,i,{}),ae?.(),d.delete(`@${e}`)}}});Bt("get","GET",!1);Bt("patch","PATCH");Bt("post","POST");Bt("put","PUT");Bt("delete","DELETE");var Go="started",Jo="finished",$r="error",Rr="retrying",Fr="retries-failed",nt=(e,r,a)=>document.dispatchEvent(new CustomEvent($t,{detail:{type:e,el:r,argsRaw:a}})),Eo=e=>`${e}`.includes("text/event-stream"),jr=async(e,r)=>{let a=e.getReader(),i=await a.read();for(;!i.done;)r(i.value),i=await a.read()},Hr=e=>{let r,a,i,c=!1;return p=>{r?r=Br(r,p):(r=p,a=0,i=-1);let d=r.length,f=0;for(;a<d;){c&&(r[a]===10&&(f=++a),c=!1);let g=-1;for(;a<d&&g===-1;++a)switch(r[a]){case 58:i===-1&&(i=a-f);break;case 13:c=!0;case 10:g=a;break}if(g===-1)break;e(r.subarray(f,g),i),f=a,i=-1}f===d?r=void 0:f&&(r=r.subarray(f),a-=f)}},qr=(e,r,a)=>{let i=So(),c=new TextDecoder;return(p,d)=>{if(!p.length)a?.(i),i=So();else if(d>0){let f=c.decode(p.subarray(0,d)),g=d+(p[d+1]===32?2:1),b=c.decode(p.subarray(g));switch(f){case"data":i.data=i.data?`${i.data}
${b}`:b;break;case"event":i.event=b;break;case"id":e(i.id=b);break;case"retry":{let y=+b;Number.isNaN(y)||r(i.retry=y);break}}}}},Br=(e,r)=>{let a=new Uint8Array(e.length+r.length);return a.set(e),a.set(r,e.length),a},So=()=>({data:"",event:"",id:"",retry:void 0}),Vr=(e,r,{signal:a,headers:i,onopen:c,onmessage:p,onclose:d,onerror:f,openWhenHidden:g,fetch:b,retry:y="auto",retryInterval:T=1e3,retryScaler:k=2,retryMaxWaitMs:E=3e4,retryMaxCount:w=10,responseOverrides:D,...X})=>new Promise((R,J)=>{let Se={...i},j,A=()=>{j.abort(),document.hidden||P()};g||document.addEventListener("visibilitychange",A);let ae,ve=()=>{document.removeEventListener("visibilitychange",A),clearTimeout(ae),j.abort()};a?.addEventListener("abort",()=>{ve(),R()});let fe=b||window.fetch,$=c||(()=>{}),Pe=0,be=T,P=async()=>{j=new AbortController;let F=j.signal;try{let ee=await fe(e,{...X,headers:Se,signal:F});await $(ee);let te=async(me,He,ne,ct,...qe)=>{let ut={[ne]:await He.text()};for(let Ie of qe){let Le=He.headers.get(`datastar-${Jn(Ie)}`);if(ct){let ie=ct[Ie];ie&&(Le=typeof ie=="string"?ie:JSON.stringify(ie))}Le&&(ut[Ie]=Le)}nt(me,r,ut),ve(),R()},re=ee.status,le=re===204,Te=re>=300&&re<400,Je=re>=400&&re<600;if(re!==200){if(d?.(),y!=="never"&&!le&&!Te&&(y==="always"||y==="error"&&Je)){clearTimeout(ae),ae=setTimeout(P,T);return}ve(),R();return}Pe=0,T=be;let st=ee.headers.get("Content-Type");if(st?.includes("text/html"))return await te("datastar-patch-elements",ee,"elements",D,"selector","mode","namespace","useViewTransition");if(st?.includes("application/json"))return await te("datastar-patch-signals",ee,"signals",D,"onlyIfMissing");if(st?.includes("text/javascript")){let me=document.createElement("script"),He=ee.headers.get("datastar-script-attributes");if(He)for(let[ne,ct]of Object.entries(JSON.parse(He)))me.setAttribute(ne,ct);me.textContent=await ee.text(),document.head.appendChild(me),ve();return}if(await jr(ee.body,Hr(qr(me=>{me?Se["last-event-id"]=me:delete Se["last-event-id"]},me=>{be=T=me},p))),d?.(),y==="always"&&!Te){clearTimeout(ae),ae=setTimeout(P,T);return}ve(),R()}catch(ee){if(!F.aborted)try{let te=f?.(ee)||T;clearTimeout(ae),ae=setTimeout(P,te),T=Math.min(T*k,E),++Pe>=w?(nt(Fr,r,{}),ve(),J("Max retries reached.")):console.error(`Datastar failed to reach ${e.toString()} retrying in ${te}ms.`)}catch(te){ve(),J(te)}}};P()});se({name:"attr",requirement:{value:"must"},returnsValue:!0,apply({el:e,key:r,rx:a}){let i=(f,g)=>{g===""||g===!0?e.setAttribute(f,""):g===!1||g==null?e.removeAttribute(f):typeof g=="string"?e.setAttribute(f,g):e.setAttribute(f,JSON.stringify(g))},c=r?()=>{p.disconnect();let f=a();i(r,f),p.observe(e,{attributeFilter:[r]})}:()=>{p.disconnect();let f=a(),g=Object.keys(f);for(let b of g)i(b,f[b]);p.observe(e,{attributeFilter:g})},p=new MutationObserver(c),d=Ge(c);return()=>{p.disconnect(),d()}}});var Xr=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,Do=Symbol("empty"),To=qt("bind");se({name:"bind",requirement:"exclusive",apply({el:e,key:r,mods:a,value:i,error:c}){let p=r!=null?lt(r,a):i,d=(E,w)=>w==="number"?+E.value:E.value,f=E=>{e.value=`${E}`};if(e instanceof HTMLInputElement)switch(e.type){case"range":case"number":d=(E,w)=>w==="string"?E.value:+E.value;break;case"checkbox":d=(E,w)=>E.value!=="on"?w==="boolean"?E.checked:E.checked?E.value:"":w==="string"?E.checked?E.value:"":E.checked,f=E=>{e.checked=typeof E=="string"?E===e.value:E};break;case"radio":e.getAttribute("name")?.length||e.setAttribute("name",p),d=(E,w)=>E.checked?w==="number"?+E.value:E.value:Do,f=E=>{e.checked=E===(typeof E=="number"?+e.value:e.value)};break;case"file":{let E=()=>{let w=[...e.files||[]],D=[];Promise.all(w.map(X=>new Promise(R=>{let J=new FileReader;J.onload=()=>{if(typeof J.result!="string")throw c("InvalidFileResultType",{resultType:typeof J.result});let Se=J.result.match(Xr);if(!Se?.groups)throw c("InvalidDataUri",{result:J.result});D.push({name:X.name,contents:Se.groups.contents,mime:Se.groups.mime})},J.onloadend=()=>R(),J.readAsDataURL(X)}))).then(()=>{_e([[p,D]])})};return e.addEventListener("change",E),e.addEventListener("input",E),()=>{e.removeEventListener("change",E),e.removeEventListener("input",E)}}}else if(e instanceof HTMLSelectElement){if(e.multiple){let E=new Map;d=w=>[...w.selectedOptions].map(D=>{let X=E.get(D.value);return X==="string"||X==null?D.value:+D.value}),f=w=>{for(let D of e.options)w.includes(D.value)?(E.set(D.value,"string"),D.selected=!0):w.includes(+D.value)?(E.set(D.value,"number"),D.selected=!0):D.selected=!1}}}else e instanceof HTMLTextAreaElement||(d=E=>"value"in E?E.value:E.getAttribute("value"),f=E=>{"value"in e?e.value=E:e.setAttribute("value",E)});let g=pn(p),b=typeof g,y=p;if(Array.isArray(g)&&!(e instanceof HTMLSelectElement&&e.multiple)){let E=r||i,w=document.querySelectorAll(`[${To}\\:${CSS.escape(E)}],[${To}="${CSS.escape(E)}"]`),D=[],X=0;for(let R of w){if(D.push([`${y}.${X}`,d(R,"none")]),e===R)break;X++}_e(D,{ifMissing:!0}),y=`${y}.${X}`}else _e([[y,d(e,b)]],{ifMissing:!0});let T=()=>{let E=pn(y);if(E!=null){let w=d(e,typeof E);w!==Do&&_e([[y,w]])}};e.addEventListener("input",T),e.addEventListener("change",T);let k=Ge(()=>{f(pn(y))});return()=>{k(),e.removeEventListener("input",T),e.removeEventListener("change",T)}}});se({name:"class",requirement:{value:"must"},returnsValue:!0,apply({key:e,el:r,mods:a,rx:i}){e&&=lt(e,a,"kebab");let c,p=()=>{d.disconnect(),c=e?{[e]:i()}:i();for(let g in c){let b=g.split(/\s+/).filter(y=>y.length>0);if(c[g])for(let y of b)r.classList.contains(y)||r.classList.add(y);else for(let y of b)r.classList.contains(y)&&r.classList.remove(y)}d.observe(r,{attributeFilter:["class"]})},d=new MutationObserver(p),f=Ge(p);return()=>{d.disconnect(),f();for(let g in c){let b=g.split(/\s+/).filter(y=>y.length>0);for(let y of b)r.classList.remove(y)}}}});se({name:"computed",requirement:{value:"must"},returnsValue:!0,apply({key:e,mods:r,rx:a,error:i}){if(e)_e([[lt(e,r),vo(a)]]);else{let c=Object.assign({},a());wn(c,p=>{if(typeof p=="function")return vo(p);throw i("ComputedExpectedFunction")}),yt(c)}}});se({name:"effect",requirement:{key:"denied",value:"must"},apply:({rx:e})=>Ge(e)});se({name:"indicator",requirement:"exclusive",apply({el:e,key:r,mods:a,value:i}){let c=r!=null?lt(r,a):i;_e([[c,!1]]);let p=d=>{let{type:f,el:g}=d.detail;if(g===e)switch(f){case Go:_e([[c,!0]]);break;case Jo:_e([[c,!1]]);break}};return document.addEventListener($t,p),()=>{_e([[c,!1]]),document.removeEventListener($t,p)}}});var Lt=e=>{if(!e||e.size<=0)return 0;for(let r of e){if(r.endsWith("ms"))return+r.replace("ms","");if(r.endsWith("s"))return+r.replace("s","")*1e3;try{return Number.parseFloat(r)}catch{}}return 0},kt=(e,r,a=!1)=>e?e.has(r.toLowerCase()):a,Zo=(e,r)=>(...a)=>{setTimeout(()=>{e(...a)},r)},xo=(e,r,a=!0,i=!1,c=!1)=>{let p=null,d=0;return(...f)=>{a&&!d?(e(...f),p=null):p=f,(!d||c)&&(d&&clearTimeout(d),d=setTimeout(()=>{i&&p!==null&&e(...p),p=null,d=0},r))}},Qn=(e,r)=>{let a=r.get("delay");if(a){let p=Lt(a);e=Zo(e,p)}let i=r.get("debounce");if(i){let p=Lt(i),d=kt(i,"leading",!1),f=!kt(i,"notrailing",!1);e=xo(e,p,d,f,!0)}let c=r.get("throttle");if(c){let p=Lt(c),d=!kt(c,"noleading",!1),f=kt(c,"trailing",!1);e=xo(e,p,d,f)}return e},Qo=!!document.startViewTransition,Sn=(e,r)=>{if(r.has("viewtransition")&&Qo){let a=e;e=(...i)=>document.startViewTransition(()=>a(...i))}return e};se({name:"init",requirement:{key:"denied",value:"must"},apply({rx:e,mods:r}){let a=()=>{Ue(),e(),ze()};a=Sn(a,r);let i=0,c=r.get("delay");c&&(i=Lt(c),i>0&&(a=Zo(a,i))),a()}});se({name:"json-signals",requirement:{key:"denied"},apply({el:e,value:r,mods:a}){let i=a.has("terse")?0:2,c={};r&&(c=Zn(r));let p=()=>{d.disconnect(),e.textContent=JSON.stringify(Ht(c),null,i),d.observe(e,{childList:!0,characterData:!0,subtree:!0})},d=new MutationObserver(p),f=Ge(p);return()=>{d.disconnect(),f()}}});se({name:"on",requirement:"must",argNames:["evt"],apply({el:e,key:r,mods:a,rx:i}){let c=e;a.has("window")&&(c=window);let p=g=>{g&&(a.has("prevent")&&g.preventDefault(),a.has("stop")&&g.stopPropagation()),Ue(),i(g),ze()};p=Sn(p,a),p=Qn(p,a);let d={capture:a.has("capture"),passive:a.has("passive"),once:a.has("once")};if(a.has("outside")){c=document;let g=p;p=b=>{e.contains(b?.target)||g(b)}}let f=lt(r,a,"kebab");if((f===$t||f===gn)&&(c=document),e instanceof HTMLFormElement&&f==="submit"){let g=p;p=b=>{b?.preventDefault(),g(b)}}return c.addEventListener(f,p,d),()=>{c.removeEventListener(f,p)}}});var Yr=(e,r,a)=>Math.max(r,Math.min(a,e)),Fn=new WeakSet;se({name:"on-intersect",requirement:{key:"denied",value:"must"},apply({el:e,mods:r,rx:a}){let i=()=>{Ue(),a(),ze()};i=Sn(i,r),i=Qn(i,r);let c={threshold:0};r.has("full")?c.threshold=1:r.has("half")?c.threshold=.5:r.get("threshold")&&(c.threshold=Yr(Number(r.get("threshold")),0,100)/100);let p=r.has("exit"),d=new IntersectionObserver(f=>{for(let g of f)g.isIntersecting!==p&&(i(),d&&Fn.has(e)&&d.disconnect())},c);return d.observe(e),r.has("once")&&Fn.add(e),()=>{r.has("once")||Fn.delete(e),d&&(d.disconnect(),d=null)}}});se({name:"on-interval",requirement:{key:"denied",value:"must"},apply({mods:e,rx:r}){let a=()=>{Ue(),r(),ze()};a=Sn(a,e);let i=1e3,c=e.get("duration");c&&(i=Lt(c),kt(c,"leading",!1)&&a());let p=setInterval(a,i);return()=>{clearInterval(p)}}});se({name:"on-signal-patch",requirement:{value:"must"},argNames:["patch"],returnsValue:!0,apply({el:e,key:r,mods:a,rx:i,error:c}){if(r&&r!=="filter")throw c("KeyNotAllowed");let p=qt(`${this.name}-filter`),d=e.getAttribute(p),f={};d&&(f=Zn(d));let g=!1,b=Qn(y=>{if(g)return;let T=Ht(f,y.detail);if(!Er(T)){g=!0,Ue();try{i(T)}finally{ze(),g=!1}}},a);return document.addEventListener(gn,b),()=>{document.removeEventListener(gn,b)}}});se({name:"ref",requirement:"exclusive",apply({el:e,key:r,mods:a,value:i}){let c=r!=null?lt(r,a):i;_e([[c,e]])}});var Ao="none",Co="display";se({name:"show",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:r}){let a=()=>{i.disconnect(),r()?e.style.display===Ao&&e.style.removeProperty(Co):e.style.setProperty(Co,Ao),i.observe(e,{attributeFilter:["style"]})},i=new MutationObserver(a),c=Ge(a);return()=>{i.disconnect(),c()}}});se({name:"signals",returnsValue:!0,apply({key:e,mods:r,rx:a}){let i=r.has("ifmissing");if(e)e=lt(e,r),_e([[e,a?.()]],{ifMissing:i});else{let c=Object.assign({},a?.());yt(c,{ifMissing:i})}}});se({name:"style",requirement:{value:"must"},returnsValue:!0,apply({key:e,el:r,rx:a}){let{style:i}=r,c=new Map,p=(b,y)=>{let T=c.get(b);!y&&y!==0?T!==void 0&&(T?i.setProperty(b,T):i.removeProperty(b)):(T===void 0&&c.set(b,i.getPropertyValue(b)),i.setProperty(b,String(y)))},d=()=>{if(f.disconnect(),e)p(e,a());else{let b=a();for(let[y,T]of c)y in b||(T?i.setProperty(y,T):i.removeProperty(y));for(let y in b)p(Jn(y),b[y])}f.observe(r,{attributeFilter:["style"]})},f=new MutationObserver(d),g=Ge(d);return()=>{f.disconnect(),g();for(let[b,y]of c)y?i.setProperty(b,y):i.removeProperty(b)}}});se({name:"text",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:r}){let a=()=>{i.disconnect(),e.textContent=`${r()}`,i.observe(e,{childList:!0,characterData:!0,subtree:!0})},i=new MutationObserver(a),c=Ge(a);return()=>{i.disconnect(),c()}}});var Mo=(e,r)=>e.includes(r),Wr=["remove","outer","inner","replace","prepend","append","before","after"],Kr=["html","svg","mathml"];Wo({name:"datastar-patch-elements",apply(e,{selector:r="",mode:a="outer",namespace:i="html",useViewTransition:c="",elements:p=""}){if(!Mo(Wr,a))throw e.error("PatchElementsInvalidMode",{mode:a});if(!r&&a!=="outer"&&a!=="replace")throw e.error("PatchElementsExpectedSelector");if(!Mo(Kr,i))throw e.error("PatchElementsInvalidNamespace",{namespace:i});let d={selector:r,mode:a,namespace:i,useViewTransition:c.trim()==="true",elements:p};Qo&&c?document.startViewTransition(()=>_o(e,d)):_o(e,d)}});var _o=({error:e},{selector:r,mode:a,namespace:i,elements:c})=>{let p=c.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),d=/<\/html>/.test(p),f=/<\/head>/.test(p),g=/<\/body>/.test(p),b=i==="svg"?"svg":i==="mathml"?"math":"",y=b?`<${b}>${c}</${b}>`:c,T=new DOMParser().parseFromString(d||f||g?c:`<body><template>${y}</template></body>`,"text/html"),k=document.createDocumentFragment();if(d)k.appendChild(T.documentElement);else if(f&&g)k.appendChild(T.head),k.appendChild(T.body);else if(f)k.appendChild(T.head);else if(g)k.appendChild(T.body);else if(b){let E=T.querySelector("template").content.querySelector(b);for(let w of E.childNodes)k.appendChild(w)}else k=T.querySelector("template").content;if(!r&&(a==="outer"||a==="replace"))for(let E of k.children){let w;if(E instanceof HTMLHtmlElement)w=document.documentElement;else if(E instanceof HTMLBodyElement)w=document.body;else if(E instanceof HTMLHeadElement)w=document.head;else if(w=document.getElementById(E.id),!w){console.warn(e("PatchElementsNoTargetsFound"),{element:{id:E.id}});continue}Oo(a,E,[w])}else{let E=document.querySelectorAll(r);if(!E.length){console.warn(e("PatchElementsNoTargetsFound"),{selector:r});return}Oo(a,k,E)}},Wn=new WeakSet;for(let e of document.querySelectorAll("script"))Wn.add(e);var er=e=>{let r=e instanceof HTMLScriptElement?[e]:e.querySelectorAll("script");for(let a of r)if(!Wn.has(a)){let i=document.createElement("script");for(let{name:c,value:p}of a.attributes)i.setAttribute(c,p);i.text=a.text,a.replaceWith(i),Wn.add(i)}},No=(e,r,a)=>{for(let i of e){let c=r.cloneNode(!0);er(c),i[a](c)}},Oo=(e,r,a)=>{switch(e){case"remove":for(let i of a)i.remove();break;case"outer":case"inner":for(let i of a)zr(i,r.cloneNode(!0),e),er(i);break;case"replace":No(a,r,"replaceWith");break;case"prepend":case"append":case"before":case"after":No(a,r,e)}},De=new Map,gt=new Set,mt=new Map,Ot=new Set,bt=document.createElement("div");bt.hidden=!0;var jt=qt("ignore-morph"),Ur=`[${jt}]`,zr=(e,r,a="outer")=>{if(vt(e)&&vt(r)&&e.hasAttribute(jt)&&r.hasAttribute(jt)||e.parentElement?.closest(Ur))return;let i=document.createElement("div");i.append(r),document.body.insertAdjacentElement("afterend",bt);let c=e.querySelectorAll("[id]");for(let{id:f,tagName:g}of c)mt.has(f)?Ot.add(f):mt.set(f,g);e instanceof Element&&e.id&&(mt.has(e.id)?Ot.add(e.id):mt.set(e.id,e.tagName)),gt.clear();let p=i.querySelectorAll("[id]");for(let{id:f,tagName:g}of p)gt.has(f)?Ot.add(f):mt.get(f)===g&&gt.add(f);for(let f of Ot)gt.delete(f);mt.clear(),Ot.clear(),De.clear();let d=a==="outer"?e.parentElement:e;Po(d,c),Po(i,p),tr(d,i,a==="outer"?e:null,e.nextSibling),bt.remove()},tr=(e,r,a=null,i=null)=>{e instanceof HTMLTemplateElement&&r instanceof HTMLTemplateElement&&(e=e.content,r=r.content),a??=e.firstChild;for(let c of r.childNodes){if(a&&a!==i){let p=Gr(c,a,i);if(p){if(p!==a){let d=a;for(;d&&d!==p;){let f=d;d=d.nextSibling,Kn(f)}}jn(p,c),a=p.nextSibling;continue}}if(c instanceof Element&&gt.has(c.id)){let p=document.getElementById(c.id),d=p;for(;d=d.parentNode;){let f=De.get(d);f&&(f.delete(c.id),f.size||De.delete(d))}nr(e,p,a),jn(p,c),a=p.nextSibling;continue}if(De.has(c)){let p=c.namespaceURI,d=c.tagName,f=p&&p!=="http://www.w3.org/1999/xhtml"?document.createElementNS(p,d):document.createElement(d);e.insertBefore(f,a),jn(f,c),a=f.nextSibling}else{let p=document.importNode(c,!0);e.insertBefore(p,a),a=p.nextSibling}}for(;a&&a!==i;){let c=a;a=a.nextSibling,Kn(c)}},Gr=(e,r,a)=>{let i=null,c=e.nextSibling,p=0,d=0,f=De.get(e)?.size||0,g=r;for(;g&&g!==a;){if(ko(g,e)){let b=!1,y=De.get(g),T=De.get(e);if(T&&y){for(let k of y)if(T.has(k)){b=!0;break}}if(b)return g;if(!i&&!De.has(g)){if(!f)return g;i=g}}if(d+=De.get(g)?.size||0,d>f)break;i===null&&c&&ko(g,c)&&(p++,c=c.nextSibling,p>=2&&(i=void 0)),g=g.nextSibling}return i||null},ko=(e,r)=>e.nodeType===r.nodeType&&e.tagName===r.tagName&&(!e.id||e.id===r.id),Kn=e=>{De.has(e)?nr(bt,e,null):e.parentNode?.removeChild(e)},nr=Kn.call.bind(bt.moveBefore??bt.insertBefore),Jr=qt("preserve-attr"),jn=(e,r)=>{let a=r.nodeType;if(a===1){let i=e,c=r,p=i.hasAttribute("data-scope-children");if(i.hasAttribute(jt)&&c.hasAttribute(jt))return e;i instanceof HTMLInputElement&&c instanceof HTMLInputElement&&c.type!=="file"?c.getAttribute("value")!==i.getAttribute("value")&&(i.value=c.getAttribute("value")??""):i instanceof HTMLTextAreaElement&&c instanceof HTMLTextAreaElement&&(c.value!==i.value&&(i.value=c.value),i.firstChild&&i.firstChild.nodeValue!==c.value&&(i.firstChild.nodeValue=c.value));let d=(r.getAttribute(Jr)??"").split(" ");for(let{name:f,value:g}of c.attributes)i.getAttribute(f)!==g&&!d.includes(f)&&i.setAttribute(f,g);for(let f=i.attributes.length-1;f>=0;f--){let{name:g}=i.attributes[f];!c.hasAttribute(g)&&!d.includes(g)&&i.removeAttribute(g)}p&&!i.hasAttribute("data-scope-children")&&i.setAttribute("data-scope-children",""),i.isEqualNode(c)||tr(i,c),p&&i.dispatchEvent(new CustomEvent("datastar:scope-children",{bubbles:!1}))}return(a===8||a===3)&&e.nodeValue!==r.nodeValue&&(e.nodeValue=r.nodeValue),e},Po=(e,r)=>{for(let a of r)if(gt.has(a.id)){let i=a;for(;i&&i!==e;){let c=De.get(i);c||(c=new Set,De.set(i,c)),c.add(a.id),i=i.parentElement}}};Wo({name:"datastar-patch-signals",apply({error:e},{signals:r,onlyIfMissing:a}){if(r){let i=a?.trim()==="true";yt(Zn(r),{ifMissing:i})}else throw e("PatchSignalsExpectedSignals")}});var oi=wr(or());function Dn(){["backlog","in_progress","review","done"].forEach(r=>{let a=document.getElementById("column-"+r);a&&new Sortable(a,{group:"kanban",animation:150,ghostClass:"sortable-ghost",dragClass:"sortable-drag",chosenClass:"sortable-chosen",handle:".task-card",onChoose:function(i){i.item.style.opacity="0.5"},onUnchoose:function(i){i.item.style.opacity="1"},onEnd:function(i){i.item.style.opacity="1";let c=i.item.dataset.taskId,p=i.from.id.replace("column-",""),d=i.to.id.replace("column-",""),f=i.newIndex;p!==d?Zr(c,d,f):i.oldIndex!==f&&Qr(c,d,f)}})})}async function rr(e){let r=e.body.getReader(),a=new TextDecoder,i="";for(;;){let{done:c,value:p}=await r.read();if(c)break;i+=a.decode(p,{stream:!0});let d=i.split(`

`);i=d.pop();for(let f of d){if(!f.trim())continue;let g=f.split(`
`),b="",y="";for(let T of g)T.startsWith("event: ")?b=T.substring(7):T.startsWith("data: ")&&(y+=T.substring(6)+`
`);if(b==="datastar-patch-elements"&&y){let T=y.trim().split(`
`),k="";for(let E of T)E.startsWith("elements ")?k+=E.substring(9)+`
`:k+=E+`
`;if(k.trim()){let E=document.createElement("div");E.innerHTML=k.trim();let w=E.firstElementChild;if(w&&w.id){let D=document.getElementById(w.id);D&&D.parentNode&&(D.parentNode.replaceChild(w,D),setTimeout(Dn,50))}}}}}}async function Zr(e,r,a){try{let i=await fetch(`/datastar/tasks/${e}/column`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify({column:r,position:a})});if(!i.ok){console.error("Failed to update task column:",i.statusText),window.location.reload();return}await rr(i)}catch(i){console.error("Error updating task column:",i),window.location.reload()}}async function Qr(e,r,a){try{let i=await fetch(`/datastar/tasks/${e}/position`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify({column:r,position:a})});if(!i.ok){console.error("Failed to update task position:",i.statusText),window.location.reload();return}await rr(i)}catch(i){console.error("Error updating task position:",i),window.location.reload()}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Dn):Dn();document.addEventListener("datastar-merge-fragments",()=>{setTimeout(Dn,100)});})();
/*! Sortable 1.15.2 - MIT | git://github.com/SortableJS/Sortable.git */
